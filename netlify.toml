# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]
# Directory to change to before starting a build.
# This is where we will look for package.json/.nvmrc/etc.
#base = "./"

# Directory that contains the deploy-ready HTML files and assets generated by
# the build. This is relative to the base directory if one has been set, or the
# root directory if a base has not been set. This sample publishes the
# directory located at the absolute path "root/project/build-output"
publish = "build"

# Default build command.
command = "npm run build"

# Directory with the serverless Lambda functions to deploy to AWS.
functions = "functions/"


# //    "build": "sed -i s/STEAM_API_KEY/${STEAM_API_KEY}/g netlify.toml && netlify-lambda build src",
# Rewrite functions
#[[redirects]]
#from = "/steam/get-all-games"
#to = "http://api.steampowered.com/ISteamApps/GetAppList/v0002"
#query = { key = "STEAM_API_KEY" }
#status = 200
#force = true
#
#[[redirects]]
#from = "/steam/get-owned-games"
#to = "http://api.steampowered.com/ISteamApps/GetAppList/v0002"
#
#query = { key = "STEAM_API_KEY" }
#status = 200
#force = true

[[redirects]]
from = "/steam/*"
to = "/.netlify/functions/steam"
status = 200
force = true

[[redirects]]
from = "/*"
to = "/.netlify/functions/igdb"
status = 200



